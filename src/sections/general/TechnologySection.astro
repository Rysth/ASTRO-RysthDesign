---
import TechnologyCard from "@/components/ui/TechnologyCard.astro";
import ReactImage from "@/assets/images/technologies/react.svg";
import AstroImage from "@/assets/images/technologies/astro.svg";
import RailsImage from "@/assets/images/technologies/rails.svg";
import NodeJSImage from "@/assets/images/technologies/node.svg";
import PostgreSQLImage from "@/assets/images/technologies/postgresql.svg";
import DockerImage from "@/assets/images/technologies/docker.svg";
import JavaScriptImage from "@/assets/images/technologies/javascript.svg";
---

<!-- Stack Tecnológico Section -->
<section class="py-12 bg-[#0a0a0a]" id="tecnologias">
  <div class="relative overflow-hidden">
    <!-- Gradientes para el efecto fade -->
    <div
      class="absolute left-0 top-0 w-16 md:w-24 h-full bg-gradient-to-r from-[#0a0a0a] to-transparent z-10 pointer-events-none"
    >
    </div>
    <div
      class="absolute right-0 top-0 w-16 md:w-24 h-full bg-gradient-to-l from-[#0a0a0a] to-transparent z-10 pointer-events-none"
    >
    </div>

    <!-- Contenedor de scroll infinito -->
    <div class="tech-scroll-container">
      <div class="tech-scroll-track">
        <!-- Set completo de tecnologías (repetido 3 veces para seamless loop) -->
        <TechnologyCard src={ReactImage} alt="React Logo" />
        <TechnologyCard src={RailsImage} alt="Ruby on Rails Logo" />
        <TechnologyCard src={NodeJSImage} alt="NodeJS Logo" />
        <TechnologyCard src={PostgreSQLImage} alt="PostgreSQL Logo" />
        <TechnologyCard src={DockerImage} alt="Docker Logo" />
        <TechnologyCard src={AstroImage} alt="Astro Logo" />
        <TechnologyCard src={JavaScriptImage} alt="JavaScript Logo" />

        <!-- Primer duplicado -->
        <TechnologyCard src={ReactImage} alt="React Logo" />
        <TechnologyCard src={RailsImage} alt="Ruby on Rails Logo" />
        <TechnologyCard src={NodeJSImage} alt="NodeJS Logo" />
        <TechnologyCard src={PostgreSQLImage} alt="PostgreSQL Logo" />
        <TechnologyCard src={DockerImage} alt="Docker Logo" />
        <TechnologyCard src={AstroImage} alt="Astro Logo" />
        <TechnologyCard src={JavaScriptImage} alt="JavaScript Logo" />

        <!-- Segundo duplicado -->
        <TechnologyCard src={ReactImage} alt="React Logo" />
        <TechnologyCard src={RailsImage} alt="Ruby on Rails Logo" />
        <TechnologyCard src={NodeJSImage} alt="NodeJS Logo" />
        <TechnologyCard src={PostgreSQLImage} alt="PostgreSQL Logo" />
        <TechnologyCard src={DockerImage} alt="Docker Logo" />
        <TechnologyCard src={AstroImage} alt="Astro Logo" />
        <TechnologyCard src={JavaScriptImage} alt="JavaScript Logo" />

        <!-- Tercer duplicado -->
        <TechnologyCard src={ReactImage} alt="React Logo" />
        <TechnologyCard src={RailsImage} alt="Ruby on Rails Logo" />
        <TechnologyCard src={NodeJSImage} alt="NodeJS Logo" />
        <TechnologyCard src={PostgreSQLImage} alt="PostgreSQL Logo" />
        <TechnologyCard src={DockerImage} alt="Docker Logo" />
        <TechnologyCard src={AstroImage} alt="Astro Logo" />
        <TechnologyCard src={JavaScriptImage} alt="JavaScript Logo" />
      </div>
    </div>
  </div>
</section>

<style>
  .tech-scroll-container {
    display: flex;
    overflow: hidden;
    padding: 2rem 0;
  }

  .tech-scroll-track {
    display: flex;
    animation: scroll-horizontal 50s linear infinite;
    gap: 3rem;
    padding: 0 3rem;
    /* Ensure the track is wide enough for seamless loop */
    width: calc(300% + 6rem);
  }

  .tech-scroll-container:hover .tech-scroll-track {
    animation-play-state: paused;
  }

  @keyframes scroll-horizontal {
    0% {
      transform: translateX(0);
    }
    100% {
      /* Move exactly by the width of one complete set */
      transform: translateX(calc(-25% - 1.5rem));
    }
  }

  /* Mobile adjustments */
  @media (max-width: 768px) {
    .tech-scroll-container {
      padding: 1.5rem 0;
    }

    .tech-scroll-track {
      gap: 2rem;
      padding: 0 2rem;
      animation-duration: 40s;
    }

    @keyframes scroll-horizontal {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(calc(-25% - 1.333rem));
      }
    }
  }

  @media (max-width: 480px) {
    .tech-scroll-container {
      padding: 1rem 0;
    }

    .tech-scroll-track {
      gap: 1.5rem;
      padding: 0 1.5rem;
      animation-duration: 35s;
    }
  }
</style>
